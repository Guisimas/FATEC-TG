SISTEMA INTEGRADO PARA DESENVOLVIMENTO E EXECU√á√ÉO EM
TEMPO REAL DE ALGORITMOS DE PROTE√á√ÉO DE SISTEMAS
EL√âTRICOS
Renato Machado Monaro‚àó
monaro@usp.br
Raphael Philipe Mendes da Silva‚àó
rapphil@usp.br
Jos√© Carlos de Melo Vieira J√∫nior‚àó
jcarlos@sc.usp.br
Denis Vinicius Coury‚àó
coury@sc.usp.br
‚àóLaborat√≥rio de Sistemas de Energia El√©trica-LSEE
Escola de Engenharia de S√£o Carlos-EESC
Universidade de S√£o Paulo-USP
S√£o Carlos, S√£o Paulo, Brasil
ABSTRACT
Integrated system for development and real time execu-
tion of protection algorithm in electrical systems
This article presents the development of an integrated sys-
tem of hardware and software, whose objective is to serve as
a platform for developing and executing new power system
protection algorithms on a real-time environment. The pro-
posed system aims to reduce development time of new pro-
tection functions, enabling real-time analysis in opposition of
only computer simulations, as can be typically found in tech-
nical literature. In this work, generator protection functions
were implemented and tested, and the results were compared
with a commercial relay, showing the feasibility and depend-
ability of the proposed system.
KEYWORDS: Protection, Generators, PC104, Embedded
Systems, Real Time Execution, RTAI, Linux, Comedi
RESUMO
O artigo apresenta o desenvolvimento de um sistema inte-
grado de software e hardware cujo objetivo √© servir de pla-
Artigo submetido em 13/04/2011 (Id.: 1318)
Revisado em 01/08/2011, 22/08/2011
Aceito sob recomenda√ß√£o do Editor Associado Prof. Antonio Carlos Zam-
broni de Souza
taforma para desenvolver e executar em tempo real algorit-
mos de prote√ß√£o aplicados a sistemas el√©tricos. O objetivo
deste sistema √© reduzir o tempo de desenvolvimento de no-
vas fun√ß√µes de prote√ß√£o, possibilitando a execu√ß√£o de testes
em tempo real e n√£o por meio de simula√ß√µes computacionais,
como √© tipicamente encontrado na literatura. Neste trabalho
as fun√ß√µes de prote√ß√£o de gerador que foram implementadas
e testadas s√£o descritas, e os resultados obtidos comparados
com aqueles extra√≠dos atrav√©s de testes em um rel√© comer-
cial, evidenciando a viabilidade do sistema desenvolvido.
PALAVRAS-CHAVE: Prote√ß√£o, Geradores, PC104, Sistemas
Embarcados, Execu√ß√£o em Tempo Real, RTAI, Linux, Co-
medi
1
INTRODU√á√ÉO
O aumento da complexidade dos Sistemas El√©tricos de Po-
t√™ncia exige o reÔ¨Ånamento da prote√ß√£o de seus componentes
de modo a garantir a conÔ¨Åabilidade e estabilidade dos mes-
mos, beneÔ¨Åciando a opera√ß√£o desses sistemas como um todo.
Desta maneira os rel√©s de prote√ß√£o assumem cada vez mais
import√¢ncia, devido √† sua capacidade de isolar faltas com
precis√£o e rapidez (Coury et al., 2007).
A busca da melhoria da prote√ß√£o leva naturalmente ao de-
senvolvimento de novas t√©cnicas de prote√ß√£o e/ou ao aper-
202
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
fei√ßoamento daquelas existentes.
O aumento do interesse
nessa √°rea √© constatado pelo crescente n√∫mero de publica-
√ß√µes que abordam esses t√≥picos.
Como exemplo, tem-se
Sidhu et. al. que, em suas s√≠nteses bibliogr√°Ô¨Åcas entre 2004
e 2007, mostram um grande n√∫mero de artigos relacionados
√† √°rea, conÔ¨Årmando assim o interesse mencionado (Sidhu
et al., 2006; Sidhu et al., 2007; Sidhu et al., 2008; Sidhu
et al., 2010). No entanto, a maioria dessas propostas n√£o dis-
cute a aplicabilidade das mesmas em campo, Ô¨Åcando restritas
a simula√ß√µes computacionais. Neste contexto, torna-se rele-
vante o desenvolvimento de esquemas que permitam a im-
plementa√ß√£o em hardware e software de novos algoritmos de
prote√ß√£o, com a Ô¨Ånalidade de validar seu desempenho e ave-
riguar sua aplicabilidade em casos pr√°ticos. Contudo, o de-
senvolvimento de sistemas para esta Ô¨Ånalidade normalmente
requer um profundo conhecimento de suas arquiteturas, as
quais s√£o espec√≠Ô¨Åcas e particulares da fam√≠lia de micropro-
cessadores utilizada. Como consequ√™ncia, isso pode levar a
um longo tempo de desenvolvimento, tornando desestimu-
lante esse tipo implementa√ß√£o. Adicionalmente, o uso exclu-
sivo do ambiente de simula√ß√£o computacional pode levar √†
proposi√ß√£o de algoritmos de prote√ß√£o suÔ¨Åcientemente com-
plexos, de modo a inviabilizar sua implementa√ß√£o em situa-
√ß√µes pr√°ticas.
Por outro lado, existem trabalhos que abordam o desenvolvi-
mento de dispositivos de prote√ß√£o dispondo de componentes
espec√≠Ô¨Åcos de hardware. McLaren et al. (1994) prop√µem a
utiliza√ß√£o de um hardware gen√©rico para a implementa√ß√£o
de rel√©s de prote√ß√£o. A utiliza√ß√£o de m√≥dulos gen√©ricos de
hardware possibilita a extens√£o e expans√£o das capacidades
deste conforme as necessidades. Essa propriedade possibilita
que um engenheiro de prote√ß√£o com algum conhecimento
de hardware projete fun√ß√µes de prote√ß√£o espec√≠Ô¨Åcas a suas
necessidades. O sistema projetado √© composto por um ele-
mento Digital Signal Processor (DSP) e um computador in-
dustrial 386. Em certo ponto do desenvolvimento, foi neces-
s√°ria a utiliza√ß√£o de c√≥digo de m√°quina de baixo n√≠vel (As-
sembly) para aumentar o desempenho do sistema proposto,
diÔ¨Åcultando sua utiliza√ß√£o por engenheiros de prote√ß√£o.
O trabalho de Ruan and Lin (2005) apresenta o teste da uti-
liza√ß√£o de um novo modelo de DSPs de baixo custo para a
implementa√ß√£o de fun√ß√µes de prote√ß√£o. A compara√ß√£o com
outros dispositivos foi feita atrav√©s da implementa√ß√£o de fer-
ramentas de extra√ß√£o fasorial utilizando a Transformada de
Fourier (TF) e o m√©todo dos m√≠nimos quadrados. Constatou-
se a superioridade do novo modelo de DSPs perante os utili-
zados tradicionalmente para implementa√ß√£o de rel√©s de pro-
te√ß√£o.
O uso de Field Programmable Analogic Arrays (FPAAs) em
conjunto com DSPs para a implementa√ß√£o de rel√©s de dis-
t√¢ncia com caracter√≠stica mho √© proposto por Dadash Zadeh
et al. (2009). Tal abordagem possibilita a obten√ß√£o das ca-
racter√≠sticas de alta velocidade de atua√ß√£o de dispositivos de
estado s√≥lido em conjunto com o monitoramento e comuni-
ca√ß√£o dos dispositivos digitais. Al√©m disso, deve-se ressaltar
a Ô¨Çexibilidade obtida pela utiliza√ß√£o de elementos anal√≥gicos
program√°veis, pois possibilita a mudan√ßa dos circuitos ele-
tr√¥nicos diretamente no dispositivo. Foram necess√°rias mui-
tas unidades FPAAs para o desenvolvimento da plataforma
devido √† baixa densidade de elementos anal√≥gicos presentes
em cada unidade.
Os trabalhos supracitados utilizam essencialmente DSPs
para executar as opera√ß√µes necess√°rias para a prote√ß√£o de
Sistema El√©trico de Pot√™ncias (SEPs). No entanto, imple-
mentar uma fun√ß√£o de processamento digital de sinal como
um software em um DSP frequentemente requer esfor√ßos
consider√°veis de projeto e veriÔ¨Åca√ß√£o (Stranneby, 2001).
Com intuito de facilitar e diminuir o tempo de desenvolvi-
mento deste processo, este artigo prop√µe um conjunto de
hardware e software projetado para servir de plataforma para
desenvolvimento e execu√ß√£o em tempo real de novos algo-
ritmos de prote√ß√£o.
O sistema proposto √© composto por
uma placa de processamento ligada a uma placa de aquisi-
√ß√£o de dados que seguem o padr√£o PC104 (PC/104 Consor-
tium, 2009) e pelo emprego de um Sistema Operacional (SO)
baseado no Linux. Logo, por utilizar placas de computado-
res e um SO de uso comum, os procedimentos de desenvolvi-
mento e testes de novas fun√ß√µes de prote√ß√£o s√£o facilitados,
pois pode-se empregar linguagens de programa√ß√£o de alto n√≠-
vel largamente utilizadas em microcomputadores convencio-
nais, tais como C e C++. Estas caracter√≠sticas se destacam
como as vantagens do sistema proposto em rela√ß√£o √†que-
les baseados em DSPs e FPAAs mencionados anteriormente.
Para veriÔ¨Åcar a aplicabilidade e desempenho do sistema pro-
posto, foram implementados algoritmos de prote√ß√£o de ge-
radores s√≠ncronos, a saber: prote√ß√£o diferencial, prote√ß√£o de
sobrecorrente de fase instant√¢nea e prote√ß√£o de sobrecorrente
de neutro temporizada. Um SEP foi modelado usando o Al-
ternative Transients Program (ATP), e sobre ele foram si-
mulados diversos casos de faltas. As simula√ß√µes serviram
para prover dados de falta ao sistema proposto, por meio de
uma caixa de gera√ß√£o de sinais el√©tricos. Com isso, os algo-
ritmos de prote√ß√£o foram avaliados executando-se testes de
desempenho. Adicionalmente, os resultados foram compa-
rados com a resposta de um rel√© comercial, com as mesmas
fun√ß√µes de prote√ß√£o, mesmos ajustes e para a mesma situa-
√ß√£o de falta.
2
A PLATAFORMA PC104
O PC104 (ou PC/104) √© um padr√£o de computador embar-
cado controlado pelo PC/104 Consortium (2009) que deÔ¨Åne
um padr√£o de formato e de barramento. PC/104 √© destinado a
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
203
aplica√ß√µes de computa√ß√£o embarcada que dependam de uma
aquisi√ß√£o de dados conÔ¨Å√°veis em ambientes extremos.
O formato PC104 foi originalmente concebido pela empresa
Ampro em 1987 e mais tarde padronizado pelo PC/104 Con-
sortium em 1992. Uma tentativa de padroniza√ß√£o correspon-
dente ao PC104 pelo IEEE foi feita com o IEEE P996.1, mas
nunca foi ratiÔ¨Åcada.
Conforme mencionado anteriormente, a plataforma PC104
permite a implementa√ß√£o de computa√ß√£o embarcada em am-
bientes industriais, devido √†s seguintes caracter√≠sticas: for-
mato reduzido, permitindo assim menor √°rea de exposi√ß√£o
a eventuais danos; aus√™ncia de partes m√≥veis, visto que n√£o
h√° disco r√≠gido e sim um dispositivo de armazenamento de
estado s√≥lido (Solid State Disk); sistema de refrigera√ß√£o so-
mente com dissipadores (fanless).
Al√©m dessas caracter√≠sticas que prov√™m robustez √† plata-
forma, esta permite o uso de sistemas operacionais convenci-
onais, Ô¨Çexibilizando seu uso. Tamb√©m √© poss√≠vel a utiliza√ß√£o
de SOs de tempo real para suprir a necessidade de aplica√ß√µes
de controle que t√™m requisitos de tempo. Tais caracter√≠sti-
cas fazem da plataforma PC104 uma excelente base de de-
senvolvimento para aplica√ß√µes industriais, pois une robustez
com Ô¨Çexibilidade. Assim, pode-se utilizar o conjunto des-
crito como uma plataforma de desenvolvimento de diferentes
fun√ß√µes de prote√ß√£o integradas, emulando o funcionamento
de um rel√© de prote√ß√£o multifuncional, sem a depend√™ncia de
conhecimentos profundos da arquitetura do hardware.
3
SISTEMAS OPERACIONAIS DE TEMPO
REAL
Um SO √© um software (programa) ou conjunto de softwa-
res cuja fun√ß√£o √© gerenciar os recursos de hardware dispo-
n√≠veis. O SO pode ser visto como um intermedi√°rio entre
outros softwares e os componentes f√≠sicos (hardware), al√©m
de servir de interface entre a m√°quina e o usu√°rio Ô¨Ånal, per-
mitindo assim seu controle (Silberschatz et al., 2004).
SOs podem estar presentes em sistemas embarcados, que s√£o
largamente utilizados para controle e monitoramento de apli-
ca√ß√µes de risco, como avi√µes, carros, plantas industriais, re-
l√©s de prote√ß√£o de SEPs, etc. Tais aplica√ß√µes s√£o caracte-
rizadas como sistemas de tempo real, em que o tempo de
resposta e tratamento a um evento deve ser pr√©-deÔ¨Ånido e
obedecido, e caso n√£o seja, pode resultar em severas con-
sequ√™ncias, como falhas. Assim, tais sistemas dependem de
um monitoramento/controle correto e feito em tempo pr√©-
deÔ¨Ånido (Laplante, 2004). Sistemas embarcados podem tirar
vantagem dos recursos oferecidos por um SO para o gerenci-
amento de um sistema de tempo real.
Um SO de tempo real deve atender os programas em exe-
cu√ß√£o (processos) de forma a atingir os requisitos de tempo
necess√°rios para a aplica√ß√£o a qual serve. A diferen√ßa entre
um SO de tempo real e um de prop√≥sito geral est√° basica-
mente no seu escalonador de processos. Este √© respons√°vel
por gerenciar o tempo de uso do processador para cada pro-
cesso, alternando entre estes. O escalonador de um SO de
tempo real precisa ser preemptivo, ou seja, os processos t√™m
prioridades uns sobre os outros. Isso permite que um pro-
cesso de baixa prioridade seja interrompido por um com alta
prioridade, alcan√ßando assim os tempos desejados.
3.1
Real-Time
Application
Interface
(RTAI)
O Linux √© um sistema operacional de c√≥digo aberto, sob li-
cen√ßa General Public License (GPL), sendo utilizado em di-
versos campos, de computadores pessoais a supercomputa-
dores. A grande Ô¨Çexibilidade provida pelo c√≥digo aberto e a
exist√™ncia de documenta√ß√£o abundante, faz desta uma alter-
nativa atraente para a implementa√ß√£o de novas aplica√ß√µes.
No entanto, o Linux foi constru√≠do como um SO multiusu√°-
rio de prop√≥sito geral e essas caracter√≠sticas geralmente en-
tram em conÔ¨Çito com as caracter√≠sticas de um SO de tempo
real. Um SO de prop√≥sito geral tenta maximizar o desem-
penho m√©dio do sistema ao custo de um descontrole sobre
o tempo de execu√ß√£o de cada processo. Por outro lado, um
SO de tempo real tenta colocar um limite superior sobre o
tempo de execu√ß√£o ao custo de diminuir o desempenho m√©-
dio. Existem diferen√ßas estruturais que n√£o permitem ao Li-
nux operar como um SO de tempo real, dentre elas: chama-
das de sistemas de kernel n√£o preemptivas, pagina√ß√£o, algo-
ritmo do escalonador de processos, reordena√ß√£o de requisi-
√ß√µes e execu√ß√£o em lotes.
Como alternativa aos SOs de tempo real propriet√°rios e apro-
veitando as vantagens do uso do Linux, surge o RTAI. O
RTAI √© uma extens√£o que faz o Linux operar em tempo real,
permitindo assim o desenvolvimento de aplica√ß√µes com res-
tri√ß√µes de tempo. Ele funciona baseado no modelo de abstra-
√ß√£o de interrup√ß√µes, em que modiÔ¨Åca√ß√µes fazem com que o
Linux seja executado como uma tarefa de baixa prioridade de
um pequeno kernel de tempo real. As fun√ß√µes de tempo real
s√£o tratadas como de alta prioridade neste pequeno kernel. O
restante das aplica√ß√µes, como gr√°Ô¨Åcos, gera√ß√£o de relat√≥rios,
etc, s√£o tratadas pelo Linux. A arquitetura do RTAI pode ser
observada na Figura 1.
Como pode ser observado, a arquitetura utilizada pelo RTAI
possui uma camada intermedi√°ria entre o hardware e o ker-
nel do SO Linux, o kernel de tempo real. Este kernel tem
como caracter√≠stica a utiliza√ß√£o de um escalonador de tare-
fas preemptivo. Este tem controle sobre os tempos de execu-
204
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012

	


	


	



	
	

 
 
 	
 	!"
##$




Figura 1: Arquitetura do RTAI
√ß√£o de cada processo e consegue aplicar prioridades entre os
mesmos. Deste modo, as interrup√ß√µes do hardware s√£o ge-
renciadas e o tempo de processamento das tarefas de tempo
real √© dividido. Al√©m disso, abaixo do kernel do Linux √©
inserida uma camada de abstra√ß√£o de hardware, Real Time
Hardware Abstraction Layer (RTHAL). A RTHAL √© contro-
lada por interrup√ß√µes de software provenientes do kernel de
tempo real, fazendo com que os processos do Linux sejam
gerenciados com baixa prioridade. Para compartilhar infor-
ma√ß√µes entre os processos de tempo real e os processos do
Linux, pode-se utilizar uma estrutura de dados como a First
In First Out (FIFO), possibilitando a comunica√ß√£o entre c√≥-
digos em execu√ß√£o com diferentes n√≠veis de privil√©gio.
4
COMEDI
O Comedi (Schleef et al., 2005) √© o conjunto padr√£o de dri-
vers e bibliotecas para aquisi√ß√£o de dados do Linux. Inici-
ado em 1996 por David Schleef, o Comedi busca suportar
diversos fabricantes e modelos de placas atrav√©s de uma in-
terface comum, a Application Programming Interface (API),
criando assim um compromisso entre modularidade e com-
plexidade.
O Comedi √© separado em duas partes: o Comedi em si, um
pacote de drivers que s√£o carregados em espa√ßo de kernel; o
comedilib, que atua como interface entre usu√°rios e os dri-
vers. Programas utilizando o Comedi podem ser escritos em
linguagem C ou C++.
O Comedi est√° organizado em canais, sub-dispositivos e dis-
positivos. Um canal √© o n√≠vel mais baixo de medi√ß√£o e con-
trole. Existem diversos tipos de canais que possibilitam: lei-
tura e escrita de sinais anal√≥gicos e digitais, contadores de
geradores de pulso e frequ√™ncia e leitura de encoders.
Os canais de um mesmo tipo s√£o agrupados em um conjunto
comum, chamado sub-dispositivo. Os sub-dispositivos s√£o
agrupados em um dispositivo. A Figura 2 traz uma ilustra√ß√£o
desta organiza√ß√£o.
	
	
	
	



	



	

	

	

	



	

	



	

	

	



	

	

	



	
	



	




	

	

	

	

	

	



	

	



Figura 2: Organiza√ß√£o do Comedi
Atrav√©s de um conjunto de fun√ß√µes dispon√≠veis no comedi-
lib √© poss√≠vel acessar os v√°rios dispositivos de uma placa de
aquisi√ß√£o de dados.
5
COMPONENTES DO SISTEMA PRO-
POSTO
Nesta se√ß√£o ser√£o apresentados os equipamentos e softwa-
res que comp√µem o sistema integrado de desenvolvimento
e execu√ß√£o de algoritmos de prote√ß√£o. Todo o desenvolvi-
mento do hardware foi concentrado na plataforma PC104,
batizada de Cubo PC104. O diagrama de blocos da Figura 3
mostra uma vis√£o geral das principais partes do hardware e
suas inter-rela√ß√µes. Esse arranjo foi inspirado na arquitetura
encontrada em rel√©s digitais comerciais, que √© mostrada de
forma sint√©tica na Figura 4 (Coury et al., 2007).
5.1
O Cubo PC104
Para avaliar a viabilidade do emprego da plataforma PC/104
nos testes de novos algoritmos de prote√ß√£o em tempo real,
escolheu-se o seguinte conjunto de placas que conta com
uma placa de processamento de dados, uma placa de aqui-
si√ß√£o de dados e uma fonte de energia. A placa de processa-
mento de dados escolhida tem como caracter√≠sticas:
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
205
	











	










Figura 3: Vis√£o do Conjunto
	






	

	



	
	
 
 
!
"	

	
#$

Figura 4: Principais Subsistemas de um Rel√© Digital.
‚Ä¢ Processador AMD Geode LX800;
‚Ä¢ 512MB de Mem√≥ra RAM DDR333;
‚Ä¢ 8GB de Armazenamento em Cart√£o Compact Flash
(CF);
‚Ä¢ 1 Placa de rede Ethernet 10/100 Mb/s;
‚Ä¢ 4 Portas USB 2.0;
‚Ä¢ 2 Portas Seriais (RS232);
‚Ä¢ 1 Porta Paralela.
A escolha da placa de aquisi√ß√£o de dados baseou-se no n√∫-
mero de canais de entrada anal√≥gica, na taxa de amostragem
m√°xima e a na disponibilidade do driver desta placa no Co-
medi. A placa escolhida tem como principais caracter√≠sticas:
‚Ä¢ Resolu√ß√£o de 16 bits;
‚Ä¢ Taxa de amostragem m√°xima de 100 kS/s;
‚Ä¢ 16 canais de entrada anal√≥gica em modo comum ou 8
em modo diferencial;
‚Ä¢ 8 canais de entrada/sa√≠da digital;
‚Ä¢ Buffer de 512 amostras.
A Figura 5 mostra uma foto do Cubo PC104 com suas di-
mens√µes f√≠sicas.



Figura 5: Cubo PC104
5.2
Caixa de Condicionamento de Sinais
A placa de aquisi√ß√£o de dados necessita que os sinais el√©-
tricos de entrada, neste caso valores instant√¢neos de tens√µes
e de correntes, sejam fornecidos em n√≠veis compat√≠veis aos
valores para os quais ela foi projetada. Para tanto, foi desen-
volvida uma Placa de Circuito Impresso (PCI) para o condi-
cionamento das correntes de entrada e outra para as tens√µes
de entrada.
A PCI respons√°vel pelo condicionamento de tens√£o foi pro-
jetada para receber sinais de tens√£o de at√© ¬±380Vpico e for-
necer em sua sa√≠da uma tens√£o de ¬±10Vpico, mais apropriada
para a placa de aquisi√ß√£o de dados. Um divisor resistivo foi
empregado para rebaixar a tens√£o do sinal de entrada. Um
ampliÔ¨Åcador isolado de barreira √≥tica foi escolhido para rea-
lizar a isola√ß√£o el√©trica entre a plataforma PC104 e o sistema
el√©trico. Ap√≥s o ampliÔ¨Åcador isolado, um ampliÔ¨Åcador ope-
racional realiza o ajuste de ganho e offset. Por Ô¨Åm, o sinal √©
submetido a um Ô¨Åltro ativo Anti-Aliasing do tipo Butterworth
de segunda ordem com frequ√™ncia de corte de 2, 0kHz, con-
forme mostra a Figura 6.
O condicionamento do sinal de corrente √© realizado por uma
PCI que converte a corrente de entrada em tens√£o na sua
sa√≠da, visto que as placas de aquisi√ß√£o de dados operam, em
sua maioria, apenas com tens√£o. Esta PCI foi projetada para
receber sinais de corrente de at√© ¬±30Apico e fornecer em sua
sa√≠da uma tens√£o de ¬±10Vpico. Um sensor de efeito Hall foi
206
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
	


	
	

		


	

	

	




	

Figura 6: Circuito de Condicionamento de Tens√£o
utilizado para realizar a convers√£o do sinal de corrente em
tens√£o, ao mesmo tempo que isola eletricamente o circuito
de condicionamento do sistema el√©trico. Assim como no cir-
cuito de condicionamento de tens√£o, um ampliÔ¨Åcador ope-
racional realiza o ajuste de ganho e offset e um Ô¨Åltro ativo √©
utilizado de modo a evitar o efeito Aliasing, conforme mostra
a Figura 7.


	


		

	
		


	


	

Figura 7: Circuito de Condicionamento de Corrente
5.3
Conjunto de softwares utilizados
Nesta subse√ß√£o ser√° descrito o conjunto de softwares es-
colhido para o desenvolvimento da aplica√ß√£o proposta. O
SO escolhido √© o Linux, atrav√©s da distribui√ß√£o Debian
GNU/Linux ou simplesmente Debian, vers√£o 5.0 (Lenny).
O Debian GNU/Linux √© uma cria√ß√£o do projeto Debian, uma
associa√ß√£o de indiv√≠duos que tem por causa comum criar um
SO livre, coerente e completo, prezando principalmente pela
estabilidade (Ferrari, 2007). Estes fatos Ô¨Åzeram dele a esco-
lha para o desenvolvimento deste projeto.
Como mencionado anteriormente, o RTAI √© um patch (modi-
Ô¨Åca√ß√µes no c√≥digo-fonte) aplicado sobre o Kernel do Linux
para que este possa suportar aplica√ß√µes de tempo-real.
Por Ô¨Åm, ser√° tamb√©m utilizado o Comedi, cujas caracter√≠sti-
cas principais foram descritas anteriormente.
As vers√µes dos softwares citados s√£o exibidas a seguir:
‚Ä¢ Debian GNU/Linux 5.0 (Lenny) com kernel 2.6.28.7;
‚Ä¢ RTAI 3.7;
‚Ä¢ Comedi 0.7.76.
6
AVALIA√á√ÉO
DE
DESEMPENHO
DO
CUBO PC104
Nesta se√ß√£o ser√£o apresentados os procedimentos realizados
para avaliar o desempenho do Cubo PC104 em testes embar-
cados em tempo real. As an√°lises foram conduzidas por meio
da implementa√ß√£o dos algoritmos das fun√ß√µes de prote√ß√£o
diferencial, sobrecorrente de fase com atua√ß√£o instant√¢nea e
sobrecorrente de neutro com atua√ß√£o temporizada.
Foram observados a precis√£o da taxa de amostragem e o
tempo de processamento das etapas de aquisi√ß√£o de dados,
medi√ß√£o e prote√ß√£o. Os testes foram conduzidos conside-
rando duas taxas de amostragem: 8 e 16 amostras por ciclo
de 60Hz. Simula√ß√µes de transit√≥rios eletromagn√©ticos em
um SEP modelado no Alternative Transients Program (ATP)
(ATP, 1987) forneceram dados sobre a opera√ß√£o de um Gera-
dor S√≠ncrono (GS) submetido a faltas internas e faltas exter-
nas. Os resultados da atua√ß√£o das fun√ß√µes de prote√ß√£o foram
comparados aos resultados obtidos de um rel√© comercial sub-
metido aos mesmos testes.
6.1
O Sistema El√©trico Analisado
A Figura 8 mostra o diagrama uniÔ¨Ålar do sistema el√©trico
utilizado nas simula√ß√µes para fornecer dados para o teste dos
algoritmos de prote√ß√£o e avalia√ß√£o do desempenho da plata-
forma PC104.
GER
Gerador
S√≠ncrono
BGER
BLT1
BLT1O
BGCH1
LT1: 100 km
BLT2
BLT2O
BGCH2
BLT3
BLT3O
BGCH3
LT3: 50 km
25MVA
13.8/138kV
25MVA
138/13.8kV
90MVA
13.8kV
V
2MVA
13.8/4kV
M
BGCHM
25MVA
138/13.8kV
25MVA
138/13.8kV
25MVA
13.8/138kV
25MVA
13.8/138kV
LT2: 50 km
TR1E
TR2E
TR3E
TR1A
TR2A
TR3A
Alimentadores
Figura 8: Representa√ß√£o do SEP analisado.
O sistema el√©trico √© composto por um GS de 13, 8kV e
pot√™ncia aparente de 90MV A, transformadores elevado-
res com rela√ß√µes de 13, 8/138kV e pot√™ncia aparente de
25MV A, linhas de transmiss√£o com extens√µes variando
entre 80 e 150km, transformadores abaixadores similares
aos elevadores e cargas caracterizadas por fator de pot√™n-
cia de 0, 92 indutivo e pot√™ncia aparente variando entre 5
e 25MV A. Este sistema foi implementado no Laborat√≥rio
de Sistemas de Energia El√©trica (LSEE) e empregado com
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
207
sucesso em outros trabalhos (Barbosa et al., 2007; Barbosa
et al., 2008).
6.2
Fun√ß√µes de Prote√ß√£o Teste
Para realizar os testes de desempenho do Cubo PC104 fo-
ram implementadas algumas fun√ß√µes de prote√ß√£o, visando
a prote√ß√£o do GS do sistema el√©trico discutido na se√ß√£o
6.1. Para tanto foram implementadas as fun√ß√µes de prote-
√ß√£o diferencial do estator (87G) e de sobrecorrente de neu-
tro (51GN) (C37-102, 1996; Kindermann, 2006). Adicional-
mente incluiu-se a prote√ß√£o contra sobrecorrente instant√¢nea
de fase (50) (Std-242, 2001). Os ajustes utilizados nas fun-
√ß√µes de prote√ß√£o est√£o dispon√≠veis no Anexo Ap√™ndice A.
A Figura 9 mostra as prote√ß√µes implementadas e a l√≥gica de
atua√ß√£o utilizada. As prote√ß√µes diferencial e de sobrecor-
rente de neutro ativam o sinal de disparo (trip) e a fun√ß√£o de
sobrecorrente instant√¢nea de fase ativa o sinal de alarme.
87G
51G
50
S
TC1
TC2
87G
51G
50
TRIP S
ALARME
Figura 9: Fun√ß√µes de Prote√ß√£o e L√≥gica de Atua√ß√£o.
Foram utilizadas fun√ß√µes dispon√≠veis na API do RTAI para
tornar os algoritmos de prote√ß√£o um processo de tempo real
(rt_task_init_schmod, rt_make_hard_real_time).
Isso ga-
rante a m√°xima prioridade deste sobre todos os processos
do SO. O intervalo de amostragem foi controlado por uma
fun√ß√£o da API do RTAI dedicada √† gera√ß√£o de interrup√ß√µes
peri√≥dicas (rt_task_make_periodic). As aquisi√ß√µes de dados
foram realizadas atrav√©s de fun√ß√µes do comedilib que aces-
sam a placa de aquisi√ß√£o de dados, realizam a leitura do canal
solicitado e retornam o valor medido devidamente convertido
para a grandeza de medi√ß√£o (comedi_data_read_delayed,
comedi_to_phys).
A Figura 10 mostra o Ô¨Çuxo de execu√ß√£o dos algoritmos im-
plementados. O bloco de aquisi√ß√£o refere-se √† leitura dos
dados da placa de aquisi√ß√£o de dados de todos os canais uti-
lizados. A partir dos dados provenientes da aquisi√ß√£o s√£o
calculadas as grandezas necess√°rias aos algoritmos de prote-
√ß√£o, tais como os fasores das corrente para a prote√ß√£o dife-
rencial e os valores eÔ¨Åcazes para as fun√ß√µes de sobrecorrente.
Em seguida as fun√ß√µes de prote√ß√£o s√£o executadas. Por Ô¨Åm,
aguarda-se a interrup√ß√£o de tempo para iniciar uma nova exe-
cu√ß√£o (rt_task_wait_period).
In√≠cio
Aquisi√ß√£o
da Dados
Medi√ß√£o
TDFJ e RMS
Trip
Aguarde o Instante
da Nova Aquisi√ß√£o
Salvar 
Oscilografia
Sim
N√£o
Fun√ß√µes de
Prote√ß√£o
Medi√ß√£o
de Tempo
Medi√ß√£o
de Tempo
Medi√ß√£o
de Tempo
Figura 10: Fluxo de Execu√ß√£o dos Algoritmos de Prote√ß√£o.
Um buffer circular foi implementado para armazenar um
conjunto de medidas, pois para calcular os valores eÔ¨Åcazes
e os fasores √© necess√°rio uma quantidade de amostras que
represente pelo menos um ciclo completo dos sinais de cor-
rente. A Figura 11 ilustra o princ√≠pio de funcionamento do
buffer circular. Por conven√ß√£o a amostra mais nova √© arma-
zenada na posi√ß√£o 1. Quando uma nova amostra √© obtida,
a amostra que ocupava a posi√ß√£o 1 ocupar√° a posi√ß√£o 2, e a
amostra que ocupava a √∫ltima posi√ß√£o √© descartada.










	









	
	


	
Figura 11: Buffer Circular.
Foram necess√°rios sete buffers circulares para as fun√ß√µes de
prote√ß√£o utilizadas: tr√™s para as correntes pr√≥ximas aos ter-
minais do gerador, tr√™s para as correntes pr√≥ximas ao neutro
208
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
e um para a corrente de neutro do gerador. Essas fun√ß√µes
de prote√ß√£o foram programadas em linguagem C++, sendo
os respectivos algoritmos apresentados a seguir. Al√©m disso,
foram implementados os algoritmos para c√°lculo do valor eÔ¨Å-
caz e dos fasores das tens√µes e das correntes, tamb√©m apre-
sentados em seguida.
O Algoritmo 1 mostra como foi implementado o c√°lculo dos
valores eÔ¨Åcazes para as fun√ß√µes de sobrecorrente, no qual
i(n) √© a corrente instant√¢nea de uma das fases ou do neu-
tro, na n-√©sima posi√ß√£o do buffer circular e N √© o n√∫mero de
amostras por ciclo. O c√°lculo do fasor para a fun√ß√£o dife-
rencial est√° dispon√≠vel no Algoritmo 2, no qual optou-se pela
Transformada Discreta de Fourier Janelada (TDFJ) de ciclo
completo com deslocamento de uma amostra.
Algoritmo 1 C√°lculo do Valor EÔ¨Åcaz
I ‚Üê0
n ‚Üê1
for n ‚â§N do
I ‚ÜêI + i(n)2
n ‚Üên + 1
end for
return p
I
N
Algoritmo 2 C√°lculo do Fasor
‚ÉóI ‚Üê0 + Ôöæ0
n ‚Üê1
for n ‚â§N do
‚ÉóI ‚Üê‚ÉóI + i(n)e
2œÄ
N Ôöæn
n ‚Üên + 1
end for
return
‚àö
2
N ‚ÉóI
As prote√ß√µes de sobrecorrente veriÔ¨Åcam se o valor eÔ¨Åcaz da
corrente monitorada (I) √© inferior ao valor m√°ximo permitido
(Ipickup). O Algoritmo 3 mostra como essa prote√ß√£o foi pro-
gramada. A prote√ß√£o diferencial realiza a compara√ß√£o dos
fasores das correntes de entrada e de sa√≠da de cada fase. O
pseudo-c√≥digo da prote√ß√£o diferencial est√° dispon√≠vel no Al-
goritmo 4, no qual I1 e I2 indicam as correntes de entrada e
de sa√≠da do elemento protegido, Io √© a corrente de opera√ß√£o,
Ir √© a corrente de restri√ß√£o.
Algoritmo 3 Prote√ß√£o de Sobrecorrente
if I(k) ‚â•Ipickup then
return true
else
return false
end if
6.3
Teste do Conjunto
Utilizando o Cubo PC104, os algoritmos de prote√ß√£o discu-
tidos na se√ß√£o 6.2 foram embarcados e posteriormente tes-
tados com aux√≠lio de uma caixa de gera√ß√£o de sinais el√©tri-
cos, que √© um sistema de alta pot√™ncia que pode gerar sinais
Algoritmo 4 Prote√ß√£o Diferencial
Io ‚Üê ‚ÉóI1 ‚àí‚ÉóI2

Ir ‚Üê ‚ÉóI1 + ‚ÉóI2

if (Ir, Io) acima da curva de opera√ß√£o then
return true
else
return false
end if
el√©tricos a partir de arquivos de simula√ß√µes. Essa caixa pode
ser utilizada para testar dos antigos rel√©s eletromec√¢nicos aos
modernos rel√©s equipados com microprocessadores.
Alimentando a caixa de gera√ß√£o de sinais el√©tricos com as
oscilograÔ¨Åas obtidas das simula√ß√µes de faltas no sistema el√©-
trico da Figura 8, pretendeu-se avaliar a conÔ¨Åabilidade e de-
sempenho dos algoritmos em tempo real de execu√ß√£o, mos-
trando assim seu potencial de aplica√ß√£o em campo. O di-
agrama apresentado na Figura 12 descreve a sequ√™ncia dos
eventos necess√°rios para a realiza√ß√£o dos testes das fun√ß√µes
de prote√ß√£o e da avalia√ß√£o global do sistema proposto.

	

	
	
	
	



	

	


	
	

	


		



	



Figura 12: Estrutura geral de testes na plataforma PC104
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
209
6.4
Teste do Rel√© Comercial
A t√≠tulo de compara√ß√£o de desempenho das fun√ß√µes de prote-
√ß√£o implementadas, um rel√© comercial foi ensaiado. No rel√©
em quest√£o foram habilitadas as fun√ß√µes de prote√ß√£o discuti-
das na se√ß√£o 6.2 e os par√¢metros de ajuste foram os mesmos
utilizados no teste da plataforma.
A Figura 13 mostra a estrutura geral dos testes usando o rel√©
comercial.

	

	
	



	




	

Figura 13: Estrutura geral de testes no rel√© comercial
7
RESULTADOS
DA
IMPLEMENTA√á√ÉO
DO CUBO PC104
Nos testes realizados no Cubo PC104 foram avaliados a cor-
reta atua√ß√£o das fun√ß√µes de prote√ß√£o, o tempo de execu√ß√£o de
cada etapa do algoritmo e a precis√£o da taxa de amostragem.
Neste trabalho duas taxas de amostragem, 8 e 16 amostras
por ciclo de 60Hz, foram utilizadas nos testes realizados.
7.1
Tempo de Processamento
Um dos crit√©rios de avalia√ß√£o do desempenho do sistema in-
tegrado proposto neste trabalho √© a capacidade de processa-
mento, que compreende o tempo necess√°rio para realizar a
aquisi√ß√£o dos sinais de entrada, pr√©-processa-los e por Ô¨Åm
executar as fun√ß√µes de prote√ß√£o. Ressalta-se que o tempo
dispon√≠vel para a execu√ß√£o de todas essas tarefas √© o inter-
valo de tempo entre duas amostragens consecutivas. Caso
esse crit√©rio n√£o seja atendido, ocorrer√° a perda de informa-
√ß√£o com preju√≠zo √† conÔ¨Åabilidade da fun√ß√£o de prote√ß√£o.
A Figura 14 mostra execu√ß√£o das etapas do algoritmo ao
longo do tempo, na qual T(k) denota o tempo em que ocor-
rem as interrup√ß√µes peri√≥dicas, Ta(k), Tm(k) e Tp(k) indi-
cam o Ô¨Åm das etapas de aquisi√ß√£o, medi√ß√£o e prote√ß√£o, res-
pectivamente.

	






















	





Figura 14: Tempo de Execu√ß√£o dos Algoritmos de Prote√ß√£o.
A avalia√ß√£o do tempo de execu√ß√£o busca evidenciar a utili-
za√ß√£o do tempo de processamento dispon√≠vel de cada bloco
do algoritmo em execu√ß√£o. Para calcular o tempo de exe-
cu√ß√£o da etapa de aquisi√ß√£o (Tacq), medi√ß√£o (Tmea) e pro-
te√ß√£o (Tpro) foram utilizadas as Equa√ß√µes 1, 2 e 3, nessa
mesma ordem, nas quais k indica a k-√©sima execu√ß√£o do
algoritmo.
Para o c√°lculo do tempo de inatividade (Tidl)
utilizou-se a Equa√ß√£o 4. √â importante salientar que Tidl deve
ser maior que zero, pois √© neste intervalo de tempo que os
demais processos de baixa prioridade do SO s√£o executados.
Al√©m disso, o tempo de inatividade nulo indica que a placa
de processamento n√£o consegue executar a tarefa solicitada
em tempo real. Ressalta-se que o tempo gasto pelas instru-
√ß√µes que realizam as medi√ß√µes de tempo foi desconsiderado.
Tacq(k)
=
Ta(k) ‚àíT(k)
(1)
Tmea(k)
=
Tm(k) ‚àíTa(k)
(2)
Tpro(k)
=
Tp(k) ‚àíTm(k)
(3)
Tidl(k)
=
T(k + 1) ‚àíTp(k)
(4)
Para realizar essa avalia√ß√£o, foram medidos os tempos de
execu√ß√£o das etapas do algoritmo durante o intervalo de um
minuto. Neste per√≠odo, a plataforma PC104 foi alimentada
com oscilograÔ¨Åas de situa√ß√µes de opera√ß√£o do sistema el√©-
trico em regime permanente e em condi√ß√£o de falta. Este
procedimento buscou identiÔ¨Åcar alguma mudan√ßa signiÔ¨Åca-
tiva nos tempos de execu√ß√£o das etapas em diversas situa√ß√µes
de opera√ß√£o.
As Tabelas 1, 2 e 3 mostram, respectivamente, os tempos de
execu√ß√£o das etapas de aquisi√ß√£o, medi√ß√£o e prote√ß√£o, para o
intervalo observado. Constata-se que os tempos de execu√ß√£o
se mantiveram praticamente constantes e com baixa varia√ß√£o.
Os gr√°Ô¨Åcos das Figuras 15(a) e 15(b) buscam destacar o
tempo gasto na execu√ß√£o de cada etapa do algoritmo frente
ao tempo total dispon√≠vel para o processamento. Observa-se
que o tempo de execu√ß√£o das fun√ß√µes de prote√ß√£o utilizadas
foi bem inferior ao tempo decorrido entre amostras consecu-
tivas. Este desempenho positivo possibilita avaliar fun√ß√µes
de prote√ß√µes mais avan√ßadas, que exijam a execu√ß√£o de c√°l-
culos mais complexos.
210
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
Algo a ser notado √© que os per√≠odos m√©dios de tempo gas-
tos na aquisi√ß√£o de dados e na execu√ß√£o da prote√ß√£o foram
praticamente iguais, para as duas taxas de amostragens utili-
zadas. No entanto, o percentual de processamento destacado
para essas atividades dobrou, como se observa nas Figuras
15(a) e 15(b). Isso ocorre porque o tempo total dispon√≠vel
quando se utiliza a taxa de 16 amostras por ciclo √© metade do
tempo dispon√≠vel para a taxa de 8 amostras por ciclo.
Outra constata√ß√£o importante √© que o tempo dedicado √† me-
di√ß√£o quadruplicou percentualmente, quando se consideram
16 amostras por ciclo. Como a taxa de amostragem dupli-
cou, o tempo dispon√≠vel ao processamento entre duas amos-
tras consecutivas foi reduzido √† metade. Al√©m disso, dada a
nova taxa de amostragem, o n√∫mero de amostras que repre-
sentam um ciclo de forma de onda tamb√©m aumentou. Deste
modo, o n√∫mero de opera√ß√µes aritm√©ticas para o c√°lculo dos
fasores e dos valores eÔ¨Åcazes dobrou. Com refer√™ncia aos
Algoritmos 1 e 2, a vari√°vel N passa de 8 para 16. Portanto,
neste caso, o aumento do n√∫mero de opera√ß√µes aritm√©ticas
aliada √† diminui√ß√£o do tempo dispon√≠vel para tais c√°lculos
elevou a participa√ß√£o percentual da etapa de medi√ß√£o no total
do tempo suÔ¨Åciente para o processamento de todas as etapas.
Contudo, ainda h√° tempo dispon√≠vel para a execu√ß√£o das ins-
tru√ß√µes n√£o priorit√°rias, conforme mostrado na Figura 15(b).
Tabela 1: Tempo Execu√ß√£o da Aquisi√ß√£o
Amostras por Ciclo
8
16
M√©dio (¬µs)
159,892
159,912
Vari√¢ncia (¬µs2)
0,222
0,277
M√°ximo (¬µs)
177,625
174,458
M√≠nimo (¬µs)
158,514
158,359
Tabela 2: Tempo Execu√ß√£o da Medi√ß√£o
Amostras por Ciclo
8
16
M√©dio (¬µs)
94,252
173,485
Vari√¢ncia (¬µs2)
0,0696
0,174
M√°ximo (¬µs)
103,125
182,812
M√≠nimo (¬µs)
93,655
172,256
Tabela 3: Tempo Execu√ß√£o da Prote√ß√£o
Amostras por Ciclo
8
16
M√©dio (¬µs)
25,586
25,476
Vari√¢ncia (¬µs2)
0,065
0,069
M√°ximo (¬µs)
35,061
34,728
M√≠nimo (¬µs)
25,032
24,956
Figura 15: Tempo de Execu√ß√£o.
7.2
Precis√£o da Taxa de Amostragem
Outro crit√©rio para avaliar o desempenho do sistema proposto
foi a precis√£o da taxa de amostragem dos sinais de entrada.
Uma vez que a taxa de amostragem √© controlada por software
√© importante veriÔ¨Åcar sua precis√£o e desvio m√°ximo. Esta
preocupa√ß√£o justiÔ¨Åca-se pelo fato que, se a taxa de amos-
tragem n√£o for constante, devido √† lat√™ncia, os sinais de en-
trada n√£o ser√£o amostrados coerentemente. Isso leva a erros
de medi√ß√£o e por consequ√™ncia √† atua√ß√£o err√¥nea das fun-
√ß√µes de prote√ß√£o, como exemplo, o espalhamento espectral
na TF (Baghzouz et al., 1998). Para a medi√ß√£o do intervalo
de amostragem, utilizou-se a F√≥rmula 5. Para tal, a taxa de
amostragem foi medida em um intervalo de um minuto de
execu√ß√£o do algoritmo de prote√ß√£o. Durante esse intervalo, a
plataforma PC104 foi alimentada com oscilograÔ¨Åas de situa-
√ß√µes de opera√ß√£o do sistema el√©trico em regime permanente
e em condi√ß√µes de falta. Este procedimento visou eviden-
ciar eventuais varia√ß√µes na taxa de amostragem devido √† mu-
dan√ßa no regime de opera√ß√£o do sistema el√©trico.
Tsmp(k) = T(k + 1) ‚àíT(k)
(5)
A Tabela 4 mostra os resultados obtidos para as duas taxas
de amostragem investigadas, 8 e 16 amostras por ciclo de
60Hz, ou seja, 2083, 33¬µs e 1041, 66¬µs respectivamente.
Observa-se que o erro m√©dio foi extremamente baixo, as-
sim como, o erro m√°ximo. A partir do histograma da Figura
16, que mostra a dispers√£o do erro da taxa de amostragem,
pode-se observar que 90% das amostras t√™m erro inferior a
1, 25¬µs (0, 06%) para a taxa de amostragem de 8 amostras
por ciclo. Com aux√≠lio do histograma da Figura 17, que mos-
tra a dispers√£o do erro da taxa de amostragem para o caso que
se usou a taxa de 16 amostras por ciclo, constata-se que 90%
das amostras t√™m erro menor que 1, 23¬µs (0, 11%).
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
211
Tabela 4: Precis√£o da Taxa de Amostragem
Amostras por Ciclo
8
16
Erro Absoluto M√©dio (¬µs)
0,607
0,543
Erro Relativo M√©dio (%)
0,058
0,052
Vari√¢ncia (¬µs2)
0,295
0,266
Erro Absoluto M√°ximo (¬µs)
11,882
9,817
Erro Relativo M√°ximo (%)
1,140
0,942
 0
 2
 4
 6
 8
 10
 12
 14
0.0
0.5
1.0
1.5
2.0
2.5
Percentual das Amostras (%)
Erro Absoluto da Amostragem (¬µs)
Figura 16: Dispers√£o do Erro de Amostragem (8 Amostras
por Ciclo).
 0
 2
 4
 6
 8
 10
 12
 14
0.0
0.5
1.0
1.5
2.0
2.5
Percentual das Amostras (%)
Erro Absoluto da Amostragem (¬µs)
Figura 17: Dispers√£o do Erro de Amostragem (16 Amostras
por Ciclo).
7.3
Desempenho das Fun√ß√µes de Prote-
√ß√£o
Os gr√°Ô¨Åcos das Figuras 18 e 19 mostram, respectivamente, a
resposta das fun√ß√µes de prote√ß√£o implementadas no sistema
proposto e do rel√© comercial. O dist√∫rbio simulado foi uma
falta entre a fase C do gerador e a terra dentro da √°rea de pro-
te√ß√£o da fun√ß√£o de prote√ß√£o diferencial, conforme mostra a
Figura 9. Os gr√°Ô¨Åcos das Figuras 20 e 21 mostram o desem-
‚àí20
‚àí15
‚àí10
‚àí5
0
5
10
15
20
Canais Anal√≥gicos
IA1
IB1
IC1
IA2
IB2
IC2
IN
  
  
  
  
  
  
0
0.02
0.04
0.06
0.08
0.1
0.12
Canais Digitais
Tempo(s)
87G‚àíA
87G‚àíB
87G‚àíC
51G‚àíN
TRIP
50‚àíA
50‚àíB
50‚àíC
ALARM
Figura 18: Resposta Cubo PC104 (Falta C-Terra)
‚àí20
‚àí15
‚àí10
‚àí5
0
5
10
15
20
Canais Anal√≥gicos
IA1
IB1
IC1
IA2
IB2
IC2
IN
  
  
  
  
  
  
0
0.02
0.04
0.06
0.08
0.1
0.12
Canais Digitais
Tempo(s)
87G‚àíA
87G‚àíB
87G‚àíC
51G‚àíN
TRIP
50‚àíA
50‚àíB
50‚àíC
ALARM
Figura 19: Resposta Rel√© Comercial (Falta C-Terra)
penho das fun√ß√µes de prote√ß√£o dos dois sistemas (sistema
proposto e o rel√© comercial) para uma situa√ß√£o de falta entre
a fase A e a fase B do gerador dentro da √°rea de prote√ß√£o da
fun√ß√£o de prote√ß√£o diferencial. O sub-√≠ndice 1 indica as cor-
rentes dos Transformadores de Corrente (TCs) pr√≥ximos aos
terminais dos geradores e o sub-√≠ndice 2 discrimina as cor-
rentes dos Transformador de Correntes (TCs) pr√≥ximos ao
neutro do gerador. Por Ô¨Åm, a corrente de neutro √© assinalada
por IN. A parte inferior dos gr√°Ô¨Åcos representa as sa√≠das
l√≥gicas de todas das fun√ß√µes de prote√ß√£o e da l√≥gica de atu-
a√ß√£o implementada, sendo que a linha cheia indica o estado
ativo. Como o tempo de atua√ß√£o da fun√ß√£o de prote√ß√£o de
sobrecorrente de neutro √© muito longo, optou-se por indicar
somente o instante da partida desta fun√ß√£o nos gr√°Ô¨Åcos ana-
lisados. Pela an√°lise comparativa dos gr√°Ô¨Åcos conclui-se que
as fun√ß√µes de prote√ß√£o, embarcadas no PC104, atuaram cor-
retamente.
212
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
‚àí30
‚àí20
‚àí10
0
10
20
30
Canais Anal√≥gicos
IA1
IB1
IC1
IA2
IB2
IC2
IN
  
  
  
  
  
  
0
0.02
0.04
0.06
0.08
0.1
0.12
Canais Digitais
Tempo(s)
87G‚àíA
87G‚àíB
87G‚àíC
51G‚àíN
TRIP
50‚àíA
50‚àíB
50‚àíC
ALARM
Figura 20: Resposta Cubo PC104 (Falta A-B)
‚àí30
‚àí20
‚àí10
0
10
20
30
Canais Anal√≥gicos
IA1
IB1
IC1
IA2
IB2
IC2
IN
  
  
  
  
  
  
0
0.02
0.04
0.06
0.08
0.1
0.12
Canais Digitais
Tempo(s)
87G‚àíA
87G‚àíB
87G‚àíC
51G‚àíN
TRIP
50‚àíA
50‚àíB
50‚àíC
ALARM
Figura 21: Resposta Rel√© Comercial (Falta A-B)
Uma segunda an√°lise foi feita no que diz respeito ao tempo
de atua√ß√£o. As Tabelas 5 e 6 mostram os tempos de atua√ß√£o
das fun√ß√µes de prote√ß√£o embarcadas no PC104 e as fun√ß√µes
ativadas no rel√© comercial para as situa√ß√µes de faltas indica-
das anteriormente. Com base nestas, conÔ¨Årma-se o correto
funcionamento dos algoritmos implementados. Pequenas di-
feren√ßas no tempo atua√ß√£o podem ser observadas, e isso se
deve, provavelmente, aos algoritmos espec√≠Ô¨Åcos de c√°lculo
dos fasores ou ao n√∫mero de amostras que o rel√© comer-
cial emprega para conÔ¨Årmar o evento de prote√ß√£o. Enfatiza-
se que essas informa√ß√µes n√£o estavam dispon√≠veis durante a
execu√ß√£o dos ensaios em laborat√≥rio.
8
CONCLUS√ïES
Este artigo mostrou o desenvolvimento e avalia√ß√£o de de-
sempenho de um sistema integrado de hardware e software
para desenvolver e executar, em tempo real, fun√ß√µes de pro-
Tabela 5: Tempos de Atua√ß√£o (Falta C-Terra)
Fun√ß√£o de
Tempo de Atua√ß√£o (ms)
Prote√ß√£o
PC104
Rel√© Comercial
87G-A
‚Ä†
‚Ä†
87G-B
‚Ä†
‚Ä†
87G-C
2,13
2,09
50-A
‚Ä†
‚Ä†
50-B
11,44
14,55
50-C
8,30
8,27
51G-A
0,92
2,09
‚Ä† N√£o houve atua√ß√£o.
Tabela 6: Tempos de Atua√ß√£o (Falta A-B)
Fun√ß√£o de
Tempo de Atua√ß√£o (ms)
Prote√ß√£o
PC104
Rel√© Comercial
87G-A
2,22
2,28
87G-B
2,22
2,28
87G-C
‚Ä†
‚Ä†
50-A
7,49
6,18
50-B
7,49
6,18
50-C
‚Ä†
‚Ä†
51G-A
‚Ä†
‚Ä†
‚Ä† N√£o houve atua√ß√£o.
te√ß√£o aplicadas em sistemas el√©tricos. Uma das principais
vantagens do sistema proposto √© facilitar a programa√ß√£o das
fun√ß√µes de prote√ß√£o, uma vez que n√£o exige o conhecimento
detalhado de sua arquitetura, tampouco de linguagens de pro-
grama√ß√£o de baixo n√≠vel. Al√©m disso, a execu√ß√£o em tempo
real e implementa√ß√£o em hardware s√£o fundamentais para
avaliar a viabilidade de implementa√ß√£o de novos algoritmos
de prote√ß√£o em condi√ß√µes pr√≥ximas √†s encontradas em casos
pr√°ticos.
A avalia√ß√£o da precis√£o da taxa de amostragem mostrou que
o uso do RTAI √© vi√°vel em aplica√ß√µes de tempo cr√≠tico como
prote√ß√£o. A placa de processamento foi capaz de executar os
algoritmos de prote√ß√£o com rapidez aceit√°vel, o que mostra
a possibilidade do uso desta para executar fun√ß√µes de pro-
te√ß√£o mais complexas. Conclui-se que o sistema desenvol-
vido neste trabalho atendeu a todos os requisitos de funci-
onamento examinados, destacando-se como uma importante
ferramenta para auxiliar o desenvolvimento de novas t√©cni-
cas de prote√ß√£o, diminuindo o tempo de implementa√ß√£o e
possibilitando testes mais completos. Ressalta-se que o em-
prego de fun√ß√µes de prote√ß√£o tradicionais foi √∫til para vali-
dar os resultados do sistema proposto. Como continuidade
deste trabalho, fun√ß√µes de prote√ß√£o mais soÔ¨Åsticadas, envol-
vendo c√°lculos mais complexos e considerando t√©cnicas de
intelig√™ncia artiÔ¨Åcial ser√£o implementadas e testadas na pla-
taforma PC104.
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
213
REFER√äNCIAS
ATP (1987). Alternative Transients Program - Rule Book.
Baghzouz, Y., Burch, R., Capasso, A., Cavallini, A., Ema-
nuel, A., Halpin, M., Imece, A., Ludbrook, A., Mon-
tanari, G., Olejniczak, K., Ribeiro, P., Rios-Marcuello,
S., Tang, L., Thaliam, R. and Verde, P. (1998). Time-
varying harmonics. I. Characterizing measured data,
IEEE Transactions on Power Delivery 13(3): 938‚Äì944.
Barbosa, D., da Silva, M., Bernardes, A. P., Oleskovicz, M.
and Coury, D. V. (2007).
L√≥gica Fuzzy aplicada na
prote√ß√£o de transformadores, VIII Simp√≥sio Brasileiro
de Automa√ß√£o Inteligente, Florian√≥polis.
Barbosa, D., Monaro, R., Coury, D. and Oleskovicz, M.
(2008).
Filtragem adaptativa para a estima√ß√£o da
frequ√™ncia em sistemas el√©tricos de pot√™ncia, SBA Con-
trole & Automa√ß√£o 19(2): 226‚Äì234.
C37-102 (1996). IEEE Guide for AC Generator Protection,
IEEE Std C37.102-1995 p. i.
Coury, D. V., Oleskovicz, M. and Giovanini, R. (2007). Pro-
te√ß√£o digital de sistemas el√©tricos de pot√™ncia: dos re-
l√©s eletromec√¢nicos aos microprocessados inteligentes,
1 edn, EDUSP, S√£o Carlos.
Dadash Zadeh, M., Sidhu, T. and Klimek, A. (2009). FPAA-
based mho distance relay considering cvt transient su-
pervision, Generation, Transmission Distribution, IET
3(7): 616 ‚Äì627.
Ferrari, F. A. (2007). Curso Pr√°tico de Linux, Universo dos
Livros Ltda., S√£o Paulo.
Kindermann, G. (2006). Prote√ß√£o de Sistemas El√©tricos de
Pot√™ncia, Vol. 3, UFSC-EEL-LabPlan, Santa Catarina.
Laplante, P. A. (2004). Real-Time Systems Design and Analy-
sis, 3 edn, Wiley-IEEE Press.
McLaren, P., Swift, G., Neufeld, A., Zhang, Z., Dirks, E. and
Haywood, R. (1994). ‚ÄúOpen‚Äù systems relaying, Power
Delivery, IEEE Transactions on 9(3): 1316 ‚Äì1324.
PC/104 Consortium (2009). No Title, Online.
URL: http://www.pc104.org
Ruan, J. and Lin, J. (2005). The application of DSP tech-
nique in the Ô¨Åeld of relay protection, Communications,
Circuits and Systems, 2005. Proceedings. 2005 Inter-
national Conference on, Vol. 2, pp. 1326‚Äì1329.
Schleef, D., Hess, F. and Bruyninckx, H. (2005). The Control
and Measurement Device Interface handbook.
Sidhu, T. S., Bajpai, M., Burnworth, J., Darlington, A., Kasz-
tenny, B., McLaren, P., Nagpal, M., Saha, M., Sachdev,
M., Swanson, M. and Winston, P. (2006). Bibliography
of Relay Literature, 2004 IEEE Committee Report,
IEEE Transactions on Power Delivery 21(3): 1199‚Äì
1212.
Sidhu, T. S., Burnworth, J., Darlington, A., Kasztenny, B.,
Liao, Y., McLaren, P. G., Nagpal, M., Sachdev, M. S.,
Saha, M. M., Swanson, M. and Winston, P. B. (2008).
Bibliography of Relay Literature, 2006 IEEE Com-
mittee Report, IEEE Transactions on Power Delivery
25(1): 88‚Äì101.
Sidhu, T. S., Burnworth, J., Darlington, A., Kasztenny, B.,
Liao, Y., McLaren, P. G., Nagpal, M., Sachdev, M. S.,
Saha, M. M., Swanson, M. and Winston, P. B. (2010).
Bibliography of Relay Literature, 2007 IEEE Com-
mittee Report, IEEE Transactions on Power Delivery
25(1): 88‚Äì101.
Sidhu, T. S., Burnworth, J., Darlington, A., Kasztenny, B.,
Liao, Y., McLaren, P., Nagpal, M., Sachdev, M., Saha,
M., Swanson, M. and Winston, P. (2007).
Biblio-
graphy of Relay Literature, 2005 IEEE Committee Re-
port, IEEE Transactions on Power Delivery 22(2): 781‚Äì
794.
Silberschatz, A., Galvin, P. B. and Gagne, G. (2004). Opera-
ting System Concepts, 7 edn, Wiley.
Std-242 (2001). IEEE Recommended Practice for Protection
and Coordination of Industrial and Commercial Power
Systems, IEEE Std 242-2001 [IEEE Buff Book] pp. i
‚Äì740.
Stranneby, D. (2001). Digital signal processing: DSP and
applications, Newnes.
214
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
AP√äNDICE A
Ajustes das Fun√ß√µes de Prote√ß√£o
Os ajustes das fun√ß√µes de prote√ß√£o utilizadas no trabalho s√£o
apresentadas neste anexo, por meio das tabelas A.1, A2 e
A.3.
Tabela A.1: Prote√ß√£o Diferencial
Pick-Up
Break 1
Slope 1
Break 2
Slope 2
0, 2 pu
1, 15 pu
15%
8, 0 pu
50%
Tabela A.2: Prote√ß√£o de Sobrecorrente de Fase Instant√¢nea
Pick-Up
1, 15 pu
Tabela A.3: Prote√ß√£o de Sobrecorrente de Neutro
Pick-Up
Dial
Curve Type
0, 4 pu
4, 0
IEEE Very Inverse
Revista Controle & Automa√ß√£o/Vol.23 no.2/Mar√ßo e Abril 2012
215
